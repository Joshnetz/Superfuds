import React, { useState, useEffect } from 'react';
import logo from '../asset/img/logo.svg';
import './App.css';
import Carrusel from '../componentes/Carrusel';
import Buscador from '../componentes/Buscador';
import Perfil from '../componentes/Perfil';



function App() {

  const [n_compra,setNcompra] =useState(0);
  const [datajsoncomprar,setData] =useState([]);
  const [display,setDisplay] =useState(false);

  
  var ver_carrito=()=>{
    setDisplay(true);
  }

  var ocultar_carrito=()=>
  {
     setDisplay(false);
  }

  var carritoadd=(id,data)=>{

    var dataadd=datajsoncomprar;

    if(datajsoncomprar[id])
    {
      dataadd[id]={"titulo":data.titulo,"cantidad": datajsoncomprar[id].cantidad+1,"precio" : data.precio};
      setData(dataadd);
    }else{
      dataadd[id]={"titulo":data.titulo,"cantidad": 1, "precio" : data.precio};
      setData(dataadd);
    }
    var n=0;
    datajsoncomprar.forEach(function(data, index) {
      n++;
    });

    console.log(n);
    console.log(datajsoncomprar);

    setNcompra(n);
  }

  useEffect(() => {
    // Actualiza el t√≠tulo del documento usando la API del navegador
    
  });

  return (
    <div id="App" >
      <header className="App-header">
        <div id="logo"><img src={logo} className="App-logo" alt="logo" /></div>
        <div><div id="buscador"><Buscador/></div></div>
        <div id="carrito">
          <div id="zona_carrito" className={display?"displayblock":"displaynone"}>
            <a href="#" onClick={ocultar_carrito} ><div>{"<"} Volver a la tienda</div></a>
            <div id="zone_list_corrito">
              {
                datajsoncomprar.map((result,index)=>(
                    <>
                    <div>{result.titulo}</div>
                    <div>{result.cantidad}</div>
                    <div>{result.precio}</div>
                    </>
                ))
       
              }
            </div>
          </div>
          <center>
            <svg onClick={ver_carrito} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="path-1-outside-1" maskUnits="userSpaceOnUse" x="3" y="3" width="18" height="18" fill="black"><rect fill="white" x="3" y="3" width="18" height="18"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M19.6274 6.40279C19.7412 6.41429 19.847 6.4686 19.9243 6.55537C19.9989 6.64497 20.0202 6.76911 19.98 6.87949L19.0892 10.7125C18.8903 11.5758 18.1842 12.2172 17.326 12.3143L9.51228 13.1534L9.36379 13.4967C9.25583 13.8002 9.29004 14.1379 9.45658 14.412C9.625 14.6895 9.9179 14.8615 10.2361 14.8697H17.4559C17.6609 14.8697 17.8271 15.0405 17.8271 15.2511C17.8271 15.4618 17.6609 15.6325 17.4559 15.6325H10.2361C9.67268 15.6151 9.15302 15.3161 8.84414 14.8316C8.53227 14.3383 8.4701 13.721 8.6771 13.1725L8.86268 12.7339L6.50559 5.43024C6.37368 5.03822 6.0183 4.77195 5.6147 4.76279H4.3712C4.16618 4.76279 4 4.59204 4 4.38139C4 4.17075 4.16618 4 4.3712 4H5.6147C6.33649 4.00785 6.97551 4.48119 7.21086 5.18233L7.54493 6.23117L19.6274 6.40279ZM17.2332 11.5516C17.7856 11.5066 18.2448 11.0967 18.3653 10.5409L19.1634 7.16558L7.78621 6.99396L9.51228 12.3716L17.2332 11.5516ZM9.10358 16.5679C8.18104 16.5679 7.43321 17.3363 7.43321 18.2841C7.43321 19.232 8.18107 20.0004 9.10358 20.0004C10.0261 20.0004 10.7739 19.232 10.7739 18.2841C10.774 17.3363 10.0261 16.5679 9.10358 16.5679ZM9.10358 19.2376C8.59106 19.2376 8.1756 18.8108 8.1756 18.2842C8.1756 17.7576 8.59106 17.3307 9.10358 17.3307C9.61609 17.3307 10.0315 17.7576 10.0315 18.2842C10.0316 18.8108 9.61609 19.2376 9.10358 19.2376ZM16.1568 16.5679C15.2342 16.5679 14.4864 17.3363 14.4864 18.2841C14.4864 19.232 15.2343 20.0004 16.1568 20.0004C17.0793 20.0004 17.8271 19.232 17.8271 18.2841C17.8271 17.3363 17.0793 16.5679 16.1568 16.5679ZM16.1568 19.2376C15.6443 19.2376 15.2288 18.8108 15.2288 18.2842C15.2288 17.7576 15.6443 17.3307 16.1568 17.3307C16.6693 17.3307 17.0847 17.7576 17.0847 18.2842C17.0848 18.8108 16.6693 19.2376 16.1568 19.2376Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M19.6274 6.40279C19.7412 6.41429 19.847 6.4686 19.9243 6.55537C19.9989 6.64497 20.0202 6.76911 19.98 6.87949L19.0892 10.7125C18.8903 11.5758 18.1842 12.2172 17.326 12.3143L9.51228 13.1534L9.36379 13.4967C9.25583 13.8002 9.29004 14.1379 9.45658 14.412C9.625 14.6895 9.9179 14.8615 10.2361 14.8697H17.4559C17.6609 14.8697 17.8271 15.0405 17.8271 15.2511C17.8271 15.4618 17.6609 15.6325 17.4559 15.6325H10.2361C9.67268 15.6151 9.15302 15.3161 8.84414 14.8316C8.53227 14.3383 8.4701 13.721 8.6771 13.1725L8.86268 12.7339L6.50559 5.43024C6.37368 5.03822 6.0183 4.77195 5.6147 4.76279H4.3712C4.16618 4.76279 4 4.59204 4 4.38139C4 4.17075 4.16618 4 4.3712 4H5.6147C6.33649 4.00785 6.97551 4.48119 7.21086 5.18233L7.54493 6.23117L19.6274 6.40279ZM17.2332 11.5516C17.7856 11.5066 18.2448 11.0967 18.3653 10.5409L19.1634 7.16558L7.78621 6.99396L9.51228 12.3716L17.2332 11.5516ZM9.10358 16.5679C8.18104 16.5679 7.43321 17.3363 7.43321 18.2841C7.43321 19.232 8.18107 20.0004 9.10358 20.0004C10.0261 20.0004 10.7739 19.232 10.7739 18.2841C10.774 17.3363 10.0261 16.5679 9.10358 16.5679ZM9.10358 19.2376C8.59106 19.2376 8.1756 18.8108 8.1756 18.2842C8.1756 17.7576 8.59106 17.3307 9.10358 17.3307C9.61609 17.3307 10.0315 17.7576 10.0315 18.2842C10.0316 18.8108 9.61609 19.2376 9.10358 19.2376ZM16.1568 16.5679C15.2342 16.5679 14.4864 17.3363 14.4864 18.2841C14.4864 19.232 15.2343 20.0004 16.1568 20.0004C17.0793 20.0004 17.8271 19.232 17.8271 18.2841C17.8271 17.3363 17.0793 16.5679 16.1568 16.5679ZM16.1568 19.2376C15.6443 19.2376 15.2288 18.8108 15.2288 18.2842C15.2288 17.7576 15.6443 17.3307 16.1568 17.3307C16.6693 17.3307 17.0847 17.7576 17.0847 18.2842C17.0848 18.8108 16.6693 19.2376 16.1568 19.2376Z" fill="white"></path><path d="M19.9243 6.55537L20.155 6.36337L20.1483 6.3558L19.9243 6.55537ZM19.6274 6.40279L19.6575 6.10431L19.6446 6.10301L19.6316 6.10282L19.6274 6.40279ZM19.98 6.87949L19.6981 6.77695L19.6919 6.79395L19.6878 6.81157L19.98 6.87949ZM19.0892 10.7125L18.7969 10.6446L18.7968 10.6451L19.0892 10.7125ZM17.326 12.3143L17.358 12.6126L17.3597 12.6124L17.326 12.3143ZM9.51228 13.1534L9.48025 12.8551L9.30638 12.8738L9.23694 13.0343L9.51228 13.1534ZM9.36379 13.4967L9.08845 13.3776L9.08449 13.3867L9.08114 13.3961L9.36379 13.4967ZM9.45658 14.412L9.71305 14.2564L9.71297 14.2563L9.45658 14.412ZM10.2361 14.8697L10.2284 15.1697H10.2361V14.8697ZM10.2361 15.6325L10.2269 15.9325H10.2361V15.6325ZM8.84414 14.8316L8.59056 14.9919L8.59117 14.9928L8.84414 14.8316ZM8.6771 13.1725L8.4006 13.0555L8.39643 13.0666L8.6771 13.1725ZM8.86268 12.7339L9.13897 12.8508L9.18247 12.748L9.14818 12.6418L8.86268 12.7339ZM6.50559 5.43024L6.79111 5.33809L6.78992 5.33457L6.50559 5.43024ZM5.6147 4.76279L5.62151 4.46279H5.6147V4.76279ZM5.6147 4L5.61796 3.7H5.6147V4ZM7.21086 5.18233L7.49674 5.09127L7.49526 5.08686L7.21086 5.18233ZM7.54493 6.23117L7.25908 6.32222L7.32465 6.52807L7.54067 6.53114L7.54493 6.23117ZM18.3653 10.5409L18.0733 10.4719L18.0721 10.4773L18.3653 10.5409ZM17.2332 11.5516L17.2088 11.2525L17.2015 11.2533L17.2332 11.5516ZM19.1634 7.16558L19.4553 7.23461L19.5412 6.87125L19.1679 6.86562L19.1634 7.16558ZM7.78621 6.99396L7.79074 6.69399L7.37283 6.68769L7.50057 7.08564L7.78621 6.99396ZM9.51228 12.3716L9.22664 12.4633L9.30124 12.6957L9.54397 12.6699L9.51228 12.3716ZM10.7739 18.2841L10.4739 18.2841V18.2841H10.7739ZM10.0315 18.2842H9.73155V18.2842L10.0315 18.2842ZM17.0847 18.2842H16.7847V18.2842L17.0847 18.2842ZM20.1483 6.3558C20.0218 6.21385 19.8473 6.12347 19.6575 6.10431L19.5972 6.70128C19.6352 6.70511 19.6722 6.72336 19.7003 6.75493L20.1483 6.3558ZM20.262 6.98203C20.3382 6.77239 20.2984 6.53595 20.1549 6.36347L19.6937 6.74726C19.6993 6.754 19.7022 6.76583 19.6981 6.77695L20.262 6.98203ZM19.3814 10.7804L20.2722 6.94741L19.6878 6.81157L18.7969 10.6446L19.3814 10.7804ZM17.3597 12.6124C18.3487 12.5005 19.155 11.7628 19.3815 10.7798L18.7968 10.6451C18.6255 11.3888 18.0198 11.9339 17.2922 12.0162L17.3597 12.6124ZM9.54432 13.4517L17.358 12.6126L17.2939 12.0161L9.48025 12.8551L9.54432 13.4517ZM9.63913 13.6158L9.78762 13.2725L9.23694 13.0343L9.08845 13.3776L9.63913 13.6158ZM9.71297 14.2563C9.59355 14.0597 9.56857 13.8162 9.64645 13.5972L9.08114 13.3961C8.9431 13.7843 8.98653 14.2161 9.20019 14.5678L9.71297 14.2563ZM10.2438 14.5698C10.0301 14.5643 9.82978 14.4487 9.71305 14.2564L9.20012 14.5677C9.42022 14.9304 9.80568 15.1588 10.2284 15.1696L10.2438 14.5698ZM17.4559 14.5697H10.2361V15.1697H17.4559V14.5697ZM18.1271 15.2511C18.1271 14.8825 17.8342 14.5697 17.4559 14.5697V15.1697C17.4876 15.1697 17.5271 15.1984 17.5271 15.2511H18.1271ZM17.4559 15.9325C17.8342 15.9325 18.1271 15.6197 18.1271 15.2511H17.5271C17.5271 15.3038 17.4876 15.3325 17.4559 15.3325V15.9325ZM10.2361 15.9325H17.4559V15.3325H10.2361V15.9325ZM8.59117 14.9928C8.95215 15.5591 9.56199 15.9118 10.2269 15.9324L10.2454 15.3326C9.78337 15.3184 9.3539 15.0731 9.0971 14.6703L8.59117 14.9928ZM8.39643 13.0666C8.15635 13.7027 8.22812 14.4186 8.59056 14.9919L9.09771 14.6713C8.83641 14.2579 8.78385 13.7393 8.95777 13.2784L8.39643 13.0666ZM8.5864 12.617L8.40082 13.0556L8.95338 13.2894L9.13897 12.8508L8.5864 12.617ZM6.22009 5.52238L8.57718 12.8261L9.14818 12.6418L6.79109 5.3381L6.22009 5.52238ZM5.60789 5.06271C5.88106 5.06891 6.12829 5.24964 6.22125 5.52591L6.78992 5.33457C6.61907 4.8268 6.15553 4.47499 5.62151 4.46287L5.60789 5.06271ZM4.3712 5.06279H5.6147V4.46279H4.3712V5.06279ZM3.7 4.38139C3.7 4.75001 3.99289 5.06279 4.3712 5.06279V4.46279C4.33948 4.46279 4.3 4.43407 4.3 4.38139H3.7ZM4.3712 3.7C3.99289 3.7 3.7 4.01278 3.7 4.38139H4.3C4.3 4.32872 4.33948 4.3 4.3712 4.3V3.7ZM5.6147 3.7H4.3712V4.3H5.6147V3.7ZM7.49526 5.08686C7.22063 4.2687 6.47165 3.7093 5.61796 3.70002L5.61144 4.29998C6.20133 4.3064 6.73038 4.69367 6.92645 5.27779L7.49526 5.08686ZM7.83078 6.14012L7.49671 5.09128L6.92501 5.27337L7.25908 6.32222L7.83078 6.14012ZM19.6316 6.10282L7.54919 5.9312L7.54067 6.53114L19.6231 6.70276L19.6316 6.10282ZM18.0721 10.4773C17.9786 10.9086 17.6249 11.2187 17.2088 11.2526L17.2575 11.8506C17.9463 11.7945 18.511 11.2847 18.6585 10.6045L18.0721 10.4773ZM18.8714 7.09655L18.0734 10.4719L18.6573 10.6099L19.4553 7.23461L18.8714 7.09655ZM7.78169 7.29392L19.1588 7.46555L19.1679 6.86562L7.79074 6.69399L7.78169 7.29392ZM9.79793 12.2799L8.07186 6.90227L7.50057 7.08564L9.22664 12.4633L9.79793 12.2799ZM17.2015 11.2533L9.4806 12.0733L9.54397 12.6699L17.2649 11.8499L17.2015 11.2533ZM7.73321 18.2841C7.73321 17.4942 8.35434 16.8679 9.10358 16.8679V16.2679C8.00774 16.2679 7.13321 17.1783 7.13321 18.2841H7.73321ZM9.10358 19.7004C8.35437 19.7004 7.73321 19.074 7.73321 18.2841H7.13321C7.13321 19.39 8.00778 20.3004 9.10358 20.3004V19.7004ZM10.4739 18.2841C10.4739 19.074 9.85281 19.7004 9.10358 19.7004V20.3004C10.1994 20.3004 11.0739 19.3899 11.0739 18.2841H10.4739ZM9.10358 16.8679C9.85282 16.8679 10.474 17.4943 10.4739 18.2841L11.0739 18.2841C11.074 17.1783 10.1994 16.2679 9.10358 16.2679V16.8679ZM7.8756 18.2842C7.8756 18.9687 8.41776 19.5376 9.10358 19.5376V18.9376C8.76436 18.9376 8.4756 18.6528 8.4756 18.2842H7.8756ZM9.10358 17.0307C8.41776 17.0307 7.8756 17.5996 7.8756 18.2842H8.4756C8.4756 17.9155 8.76436 17.6307 9.10358 17.6307V17.0307ZM10.3315 18.2842C10.3315 17.5996 9.78939 17.0307 9.10358 17.0307V17.6307C9.44279 17.6307 9.73155 17.9155 9.73155 18.2842H10.3315ZM9.10358 19.5376C9.78937 19.5376 10.3316 18.9687 10.3315 18.2841L9.73155 18.2842C9.73157 18.6528 9.44281 18.9376 9.10358 18.9376V19.5376ZM14.7864 18.2841C14.7864 17.4942 15.4075 16.8679 16.1568 16.8679V16.2679C15.0609 16.2679 14.1864 17.1783 14.1864 18.2841H14.7864ZM16.1568 19.7004C15.4076 19.7004 14.7864 19.074 14.7864 18.2841H14.1864C14.1864 19.39 15.061 20.3004 16.1568 20.3004V19.7004ZM17.5271 18.2841C17.5271 19.074 16.906 19.7004 16.1568 19.7004V20.3004C17.2526 20.3004 18.1271 19.3899 18.1271 18.2841H17.5271ZM16.1568 16.8679C16.906 16.8679 17.5271 17.4942 17.5271 18.2841H18.1271C18.1271 17.1783 17.2526 16.2679 16.1568 16.2679V16.8679ZM14.9288 18.2842C14.9288 18.9687 15.471 19.5376 16.1568 19.5376V18.9376C15.8176 18.9376 15.5288 18.6528 15.5288 18.2842H14.9288ZM16.1568 17.0307C15.471 17.0307 14.9288 17.5996 14.9288 18.2842H15.5288C15.5288 17.9155 15.8176 17.6307 16.1568 17.6307V17.0307ZM17.3847 18.2842C17.3847 17.5996 16.8426 17.0307 16.1568 17.0307V17.6307C16.496 17.6307 16.7847 17.9155 16.7847 18.2842H17.3847ZM16.1568 19.5376C16.8426 19.5376 17.3848 18.9687 17.3847 18.2841L16.7847 18.2842C16.7848 18.6528 16.496 18.9376 16.1568 18.9376V19.5376Z" fill="white" mask="url(#path-1-outside-1)"></path></svg>
            <span className="n_compras">{n_compra}</span>
          </center>

        </div>
        <Perfil nombre="Joseph Ortiz"/>
        <div id="buscador2"><Buscador/></div>
      </header>
      <div id="banner"><center><img src="https://superfuds-cms.s3.sa-east-1.amazonaws.com/banner_%281%29_bf5476e543.jpeg" className="banner"/></center></div>
      <Carrusel datajsoncomprar={carritoadd}/>
      <div id="footer">Joseph Ortiz Laverde</div>
    </div>
  );
}

export default App;